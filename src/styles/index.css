/**
 * Global styles and Tailwind imports
 */

@import "tailwindcss";
@config "../../tailwind.config.js";

@layer base {
  /* CSS Custom Properties for Design Tokens */
  :root {
    /* Spacing */
    --space-0: 0;
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;
    --space-16: 64px;

    /* Border radius */
    --radius-none: 0;
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --radius-full: 9999px;

    /* Focus ring */
    --focus-ring-width: 3px;
    --focus-ring-offset: 2px;
    --focus-ring-color: #f59e0b;

    /* Transitions */
    --transition-fast: 150ms ease;
    --transition-normal: 200ms ease;
    --transition-slow: 300ms ease;

    /* Light mode colors */
    --bg-primary: #f8fafc;
    --bg-secondary: #f1f5f9;
    --bg-card: white;
    --bg-hover: #f1f5f9;

    --text-primary: #0f172a; /* neutral-900 - all headings and primary text */
    --text-secondary: #1e293b; /* neutral-800 - body text, metadata */
    --text-muted: #334155; /* neutral-700 - disabled, subtle text */

    --border: #e2e8f0;
    --border-subtle: #f1f5f9;

    --accent: #f59e0b;
    --accent-hover: #fbbf24;
  }

  /* Dark mode overrides */
  :root.dark {
    --bg-primary: #0f172a;
    --bg-secondary: #102a43;
    --bg-card: #1e293b;
    --bg-hover: #243b53;

    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --text-muted: #64748b;

    --border: #334e68;
    --border-subtle: #243b53;

    --accent: #fbbf24;
    --accent-hover: #fcd34d;

    --focus-ring-color: #fbbf24;
  }

  /* Base typography */
  body {
    font-family: "Crimson Pro", Georgia, "Times New Roman", serif;
    font-size: 1rem;
    line-height: 1.6;
    font-weight: 400;
    color: var(--text-primary);
    background-color: var(--bg-primary);
  }

  /* Heading styles */
  h1,
  h2,
  h3 {
    font-family: "Cinzel", Georgia, "Times New Roman", serif;
  }

  h4,
  h5,
  h6 {
    font-family: "Crimson Pro", Georgia, "Times New Roman", serif;
    font-weight: 600;
  }

  /* Focus handling */
  *:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 var(--focus-ring-offset) var(--bg-card),
      0 0 0 calc(var(--focus-ring-offset) + var(--focus-ring-width))
        var(--focus-ring-color);
    border-radius: var(--radius-sm);
  }

  /* Screen reader only utility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .sr-only:not(:focus):not(:active) {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Line clamp utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Optimal line length for readability */
  .prose-readable {
    max-width: 65ch;
  }
}

@layer utilities {
  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Gradient utilities */
  .bg-gradient-primary {
    background: linear-gradient(135deg, #243b53 0%, #102a43 100%);
  }

  .bg-gradient-hero {
    background: linear-gradient(180deg, #d9e2ec 0%, #f8fafc 100%);
  }

  .dark .bg-gradient-hero {
    background: linear-gradient(180deg, #102a43 0%, #0f172a 100%);
  }
}
